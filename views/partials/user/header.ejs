<style>
    .menu-1 ul li a.active {
  color: #84CBCB; 
  font-weight: bold; /* Optional: Make it stand out */
}

</style>

<nav class="colorlib-nav" role="navigation">
    <div class="top-menu">
        <div class="container">
            <div class="row">
                <div class="col-sm-7 col-md-9">
                    <div id="colorlib-logo"><a href="http://localhost:4000">Cosmix</a></div>
                </div>
                <div class="col-sm-5 col-md-3">
                    <form action="/search" method="GET" class="search-wrap">
                        <div class="form-group">
                            <input type="search" class="form-control search" name="query" placeholder="Search" required> 
                            <button class="btn btn-primary submit-search text-center" type="submit">
                                <i class="icon-search"></i>
                            </button>
                        </div>
                    </form>
                    
             </div>
         </div>
            <div class="row">
                <div class="col-sm-12 text-left menu-1">
                    <ul>
                        <li><a href="http://localhost:4000">Home</a></li>
                        <li><a href="http://localhost:4000/shop">SHOP</a></li>

          
                        <li><a href="http://localhost:4000/about">ABOUT</a></li>
                        <li><a href="http://localhost:4000/contact">CONTACT</a></li>

                       
                        

                        <li><a href="#" id="authButton" class="button" style="background-color: cornflowerblue; color: white;">Sign In</a></li>
                        <li class="cart" ><a href="http://localhost:4000/cart"><i class="icon-shopping-cart"></i></a></li>
                        <li class="cart"><a href="http://localhost:4000/wishlist"><i class="icon-heart"></i></a></li>
                        <li class="cart"><a href="http://localhost:4000/dashboard"><i class="icon-user"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="sale">
        <div class="container">
            <div class="row">
                <div class="col-sm-8 offset-sm-2 text-center">
                    <div class="row">
                        <div class="owl-carousel2">
                            <div class="item">
                                <div class="col">
                                    <h3><a href="#">get everything  @ 25% off  </a></h3>
                                </div>
                            </div>
                            <div class="item">
                                <div class="col">
                                    <h3><a href="#">Christmas Sale : get 20% off on cosmetics</a></h3>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<script>
    document.addEventListener("DOMContentLoaded", function() {
    
        function updateAuthButton() {
            const authButton = document.getElementById('authButton');
            
            // Fetch authentication status from the server
            fetch('/auth/status')
                .then(response => response.json())
                .then(data => {
                    if (data.loggedIn) {
                        // If the user is logged in, hide the "Sign In" button
                        authButton.style.display = "none"; 
                    } else {
                        // If the user is not logged in, show the "Sign In" button and link it to the sign-in page
                        authButton.style.display = "inline";
                        authButton.textContent = 'Sign In';  // Ensure the text is correct
                        authButton.href = '/signin';  // Set the href to the sign-in page
                    }
                })
                .catch(error => {
                    console.error('Error checking authentication status:', error);
                });
        }

        // Call the function to update the auth button when the page loads
        updateAuthButton();
    });

    document.addEventListener("DOMContentLoaded", function () {
  const currentPath = window.location.href; // Get the full URL
  const menuLinks = document.querySelectorAll(".menu-1 ul li a");

  menuLinks.forEach(link => {
    if (link.href === currentPath) {
      link.classList.add("active");
    }
  });
});

</script>

